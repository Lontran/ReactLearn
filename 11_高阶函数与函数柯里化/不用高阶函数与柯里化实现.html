<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>不用高阶函数与柯里化实现</title>
    <script src="../js/react.development.js"></script>
    <script src="../js/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    
</head>
<body>
    <div id="test"></div>
    <script type="text/babel">
       /*
        高阶函数：如果一个函数符合以下2个规范中的任何一个，那该函数就是高阶函数。
                1.若A函数，接收的参数是一个函数，那么A就可以称为高阶函数
                2.若A函数，调用的返回值依然是一个函数，那么A就可以称为高阶函数
        函数的柯里化：通过函数调用继续返回函数的方式，实现多次接收参数最后统一处理的函数编码形式。
        function sum(a){
          return (b)=>{
            return (c)=>{
              return a+b+c
            }
          }
        }

        const result = sum(1)(2)(3);
       */
       class Login extends React.Component {
         state={
           username:'',
           password:''
         }

         render() {
            return (
              <form onSubmit={this.handleLogin}>
                <input type="text" placeholder="用户名" onChange={event=>this.saveFormDataToState(event, 'username')}/>
                <input type="password" placeholder="密码" onChange={event=>this.saveFormDataToState(event, 'password')}/>
                <button>登录</button>
              </form>
            )
         }

         saveFormDataToState=(event, type)=>{
           return this.setState({[type]:event.target.value})
         }

         handleLogin=(event)=>{
           event.preventDefault();
           const {username, password} = this.state;
           alert(`用户名是${username},密码是${password}`);
         }
       }

       ReactDOM.render(<Login/>, document.getElementById('test'));
    </script>
</body>
</html>